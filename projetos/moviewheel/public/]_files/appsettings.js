define(["exports","./../emby-apiclient/events.js","./servicelocator.js","./qualitydetection.js"],function(_exports,_events,_servicelocator,_qualitydetection){function getKey(name,userId){return name=userId?userId+"-"+name:name}function AppSettings(){}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,AppSettings.prototype.autoLogin=function(val){if(null==val)return this.get("autoLogin")||"lastuser";this.set("autoLogin",val.toString())},AppSettings.prototype.enableAutomaticBitrateDetection=function(networkType,mediaType,val){var key="enableautobitratebitrate-"+mediaType+"-"+("wan"===(networkType=networkType||"lan")?"false":"cellular"===networkType?networkType:"true");return null!=val&&this.set(key,(val="lan"===networkType&&"Audio"===mediaType?!0:val).toString()),"lan"===networkType&&"Audio"===mediaType||"false"!==this.get(key)},AppSettings.prototype.maxStreamingBitrate=function(networkType,mediaType,val){var key="maxbitrate-"+mediaType+"-"+("wan"===(networkType=networkType||"lan")?"false":"cellular"===networkType?networkType:"true");return null==val||"lan"===networkType&&"Audio"===mediaType||this.set(key,val),"lan"===networkType&&"Audio"===mediaType?2e8:(val=parseInt(this.get(key)||"0"))||_qualitydetection.default.getDefaultQuality(networkType)},AppSettings.prototype.slideshowIntervalMs=function(val){void 0!==val&&this.set("slideshowIntervalMs",val);return parseInt(this.get("slideshowIntervalMs")||1e4.toString())||1e4},AppSettings.prototype.forceTranscodingForContainers=function(val){return null!=val&&this.set("forceTranscodingForContainers",val.join(",")),(val=this.get("forceTranscodingForContainers"))?val.split(","):[]},AppSettings.prototype.forceTranscodingForVideoCodecs=function(val){return null!=val&&this.set("forceTranscodingForVideoCodecs",val.join(",")),(val=this.get("forceTranscodingForVideoCodecs"))?val.split(","):[]},AppSettings.prototype.enableThemeSongs=function(val){return null!=val?this.set("enableThemeSongs",val.toString()):"false"!==(val=this.get("enableThemeSongs"))},AppSettings.prototype.enableThemeVideos=function(val){return null!=val?this.set("enableThemeVideos",val.toString()):!!(val=this.get("enableThemeVideos"))&&"false"!==val},AppSettings.prototype.convertUnsupportedSurroundAudio=function(val){return null!=val?this.set("convertUnsupportedSurroundAudio",val.toString()):"true"===(val=this.get("convertUnsupportedSurroundAudio"))},AppSettings.prototype.screensaver=function(val){return null!=val?this.set("screensaver",val):this.get("screensaver")||null},AppSettings.prototype.soundEffects=function(val){return null!=val?this.set("soundeffects",val):this.get("soundeffects")||null},AppSettings.prototype.cardSize=function(val){return null!=val?this.set("cardSize",val.toString()):this.get("cardSize")||"normal"},AppSettings.prototype.videoOrientation=function(val){return null!=val?this.set("videoOrientation",val.toString()):this.get("videoOrientation")||"auto"},AppSettings.prototype.enableVideoUnderUI=function(val){return null!=val?this.set("enableVideoUnderUI",val.toString()):"true"===this.get("enableVideoUnderUI")},AppSettings.prototype.hideMediaTransportButtons=function(val){return null!=val?this.set("hideMediaTransportButtons",val.toString()):this.get("hideMediaTransportButtons")||"auto"},AppSettings.prototype.enableCinemaMode=function(val){return null!=val?this.set("enableCinemaMode",val.toString()):!(val=this.get("enableCinemaMode"))||"false"!==val},AppSettings.prototype.maxStaticMusicBitrate=function(val){void 0!==val&&this.set("maxStaticMusicBitrate",val);return parseInt(this.get("maxStaticMusicBitrate")||32e4.toString())||32e4},AppSettings.prototype.maxChromecastBitrate=function(val){return null!=val&&this.set("chromecastBitrate1",val),(val=this.get("chromecastBitrate1"))?parseInt(val):null},AppSettings.prototype.volume=function(val){void 0!==val&&this.set("mediavolume",val);return parseInt(this.get("mediavolume")||100..toString())||100},AppSettings.prototype.themeSongVolume=function(val){void 0!==val&&this.set("themeSongVolume",val);val=parseInt(this.get("themeSongVolume")||70..toString());return"number"==typeof val?val:70},AppSettings.prototype.introSkipDisplayCount=function(val){return null!=val&&this.set("introSkipDisplayCount",val),(val=this.get("introSkipDisplayCount"))?parseInt(val):0},AppSettings.prototype.enableLogging=function(val){return null!=val&&this.set("enableLogging",val.toString()),"true"===this.get("enableLogging")},AppSettings.prototype.syncOnlyOnWifi=function(val){return null!=val&&this.set("syncOnlyOnWifi",val.toString()),"false"!==this.get("syncOnlyOnWifi")},AppSettings.prototype.cameraUploadOnlyOnWifi=function(val){return null!=val&&this.set("cameraUploadOnlyOnWifi",val.toString()),"false"!==this.get("cameraUploadOnlyOnWifi")},AppSettings.prototype.syncWhenRoaming=function(val){return null!=val&&this.set("syncWhenRoaming",val.toString()),"false"!==this.get("syncWhenRoaming")},AppSettings.prototype.enableProfilePin=function(userId,val){if(userId)return null!=val&&this.set("enableProfilePin",val,userId),"true"===this.get("enableProfilePin",userId);throw new Error("userId required")},AppSettings.prototype.syncPath=function(val){return null!=val&&this.set("syncPath",val),this.get("syncPath")},AppSettings.prototype.cameraUploadFolders=function(val){return null!=val&&this.set("cameraUploadFolders",val.join("||")),(val=this.get("cameraUploadFolders"))?val.split("||"):[]},AppSettings.prototype.cameraUploadServers=function(val){return null!=val&&this.set("cameraUploadServers",val.join(",")),(val=this.get("cameraUploadServers"))?val.split(","):[]},AppSettings.prototype.runAtStartup=function(val){return null!=val&&this.set("runatstartup",val.toString()),"true"===this.get("runatstartup")},AppSettings.prototype.enableRefreshRateSwitching=function(val){return null!=val&&this.set("enableRefreshRateSwitching",val.toString()),"true"===this.get("enableRefreshRateSwitching")},AppSettings.prototype.enableResolutionSwitching=function(val){return null!=val&&this.set("enableResolutionSwitching",val.toString()),"true"===this.get("enableResolutionSwitching")},AppSettings.prototype.backgroundVideo=function(val){return null!=val&&this.set("backgroundVideo",val),this.get("backgroundVideo")},AppSettings.prototype.preferredVideoPlayer=function(val){return null!=val&&this.set("preferredVideoPlayer",val),this.get("preferredVideoPlayer")},AppSettings.prototype.set=function(name,value,userId){var currentValue=this.get(name,userId);_servicelocator.appStorage.setItem(getKey(name,userId),value),currentValue!==value&&_events.default.trigger(this,"change",[name,value])},AppSettings.prototype.get=function(name,userId){return _servicelocator.appStorage.getItem(getKey(name,userId))},AppSettings.prototype.enableSystemExternalPlayers=function(val){return null!=val&&this.set("enableSystemExternalPlayers",val.toString()),"true"===this.get("enableSystemExternalPlayers")};_exports.default=new AppSettings});